<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#0a0e27">
    <meta name="description" content="Ù„ÛŒØ³Øª Ù‚ÛŒÙ…Øª Ú©Ø§Ù…Ù„ Ù…Ø­ØµÙˆÙ„Ø§Øª Ú©ÛŒØ§ Ú©ÙˆØªÛŒÙ†Ú¯ (Ú¯Ø§ØªØ±ÛŒØ§)">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Ù„ÛŒØ³Øª Ù‚ÛŒÙ…Øª Ú©ÛŒØ§ Ú©ÙˆØªÛŒÙ†Ú¯</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMDAgMTAwIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMzYjgyZjY7c3RvcC1vcGFjaXR5OjEiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiM4YjVjZjY7c3RvcC1vcGFjaXR5OjEiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0idXJsKCNnKSIgcng9IjIwIi8+PHRleHQgeD0iNTAiIHk9IjY1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iNDUiIGZvbnQtd2VpZ2h0PSJib2xkIiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj7aqdwPL3RleHQ+PC9zdmc+">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0e27;
            --bg-secondary: #12182e;
            --bg-card: #1a2138;
            --accent-gold: #fbbf24;
            --accent-blue: #3b82f6;
            --accent-purple: #8b5cf6;
            --accent-cyan: #06b6d4;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #64748b;
            --border: rgba(255, 255, 255, 0.08);
            --shadow: 0 10px 40px rgba(0, 0, 0, 0.4);
            --glow: 0 0 30px rgba(251, 191, 36, 0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.7;
        }

        /* Animated Background */
        .bg-animated {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .bg-animated::before,
        .bg-animated::after {
            content: '';
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
        }

        .bg-animated::before {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(251, 191, 36, 0.15), transparent);
            top: -250px;
            right: -250px;
            animation: float 15s ease-in-out infinite;
        }

        .bg-animated::after {
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.12), transparent);
            bottom: -300px;
            left: -300px;
            animation: float 20s ease-in-out infinite reverse;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(50px, -50px) scale(1.1); }
            66% { transform: translate(-50px, 50px) scale(0.9); }
        }

        /* Particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--accent-gold);
            border-radius: 50%;
            opacity: 0.3;
            animation: particleFloat 15s linear infinite;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) translateX(0);
                opacity: 0;
            }
            10% {
                opacity: 0.3;
            }
            90% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-100px) translateX(100px);
                opacity: 0;
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        header {
            text-align: center;
            padding: 60px 20px 40px;
            margin-bottom: 40px;
            position: relative;
        }

        .brand-container {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            animation: slideDown 1s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-blue));
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            font-weight: 900;
            color: white;
            box-shadow: var(--shadow), var(--glow);
            position: relative;
            animation: pulse 3s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
                box-shadow: var(--shadow), 0 0 30px rgba(251, 191, 36, 0.15);
            }
            50% {
                transform: scale(1.05);
                box-shadow: var(--shadow), 0 0 50px rgba(251, 191, 36, 0.3);
            }
        }

        .logo::before {
            content: '';
            position: absolute;
            inset: -3px;
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-blue), var(--accent-purple));
            border-radius: 26px;
            z-index: -1;
            opacity: 0.5;
            animation: rotate 8s linear infinite;
        }

        @keyframes rotate {
            to {
                transform: rotate(360deg);
            }
        }

        h1 {
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-cyan), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.03em;
            margin-bottom: 16px;
            animation: textShimmer 8s ease-in-out infinite;
            background-size: 200% 200%;
        }

        @keyframes textShimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .subtitle {
            font-size: clamp(1rem, 3vw, 1.4rem);
            color: var(--text-secondary);
            font-weight: 500;
            margin-bottom: 24px;
            opacity: 0;
            animation: fadeIn 1s ease 0.5s forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .header-badges {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 24px;
            opacity: 0;
            animation: fadeIn 1s ease 0.8s forwards;
        }

        .badge {
            padding: 12px 24px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            backdrop-filter: blur(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .badge:hover {
            border-color: var(--accent-gold);
            color: var(--accent-gold);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(251, 191, 36, 0.2);
        }

        /* Search */
        .search-container {
            margin-bottom: 32px;
            animation: fadeIn 1s ease 1s forwards;
            opacity: 0;
        }

        .search-input {
            width: 100%;
            padding: 18px 28px;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 16px;
            font-size: 16px;
            color: var(--text-primary);
            font-family: inherit;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 4px rgba(251, 191, 36, 0.1);
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        /* Breadcrumb */
        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 24px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 14px;
            margin-bottom: 32px;
            font-size: 15px;
            color: var(--text-muted);
            animation: slideIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .breadcrumb span {
            cursor: pointer;
            transition: color 0.2s;
        }

        .breadcrumb span:hover {
            color: var(--accent-gold);
        }

        .breadcrumb .current {
            color: var(--text-primary);
            font-weight: 700;
        }

        /* Navigation */
        nav {
            display: flex;
            gap: 12px;
            margin-bottom: 40px;
            overflow-x: auto;
            padding-bottom: 12px;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-gold) var(--bg-secondary);
        }

        nav::-webkit-scrollbar {
            height: 8px;
        }

        nav::-webkit-scrollbar-track {
            background: var(--bg-secondary);
            border-radius: 10px;
        }

        nav::-webkit-scrollbar-thumb {
            background: linear-gradient(90deg, var(--accent-gold), var(--accent-blue));
            border-radius: 10px;
        }

        .nav-btn {
            flex-shrink: 0;
            padding: 16px 32px;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 16px;
            font-size: 16px;
            font-weight: 700;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            white-space: nowrap;
            position: relative;
            overflow: hidden;
            font-family: inherit;
        }

        .nav-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(251, 191, 36, 0.15), transparent);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .nav-btn:hover::before {
            width: 300px;
            height: 300px;
        }

        .nav-btn:hover {
            border-color: var(--accent-gold);
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-blue));
            border-color: transparent;
            color: var(--bg-primary);
            transform: translateY(-3px);
            box-shadow: var(--glow), var(--shadow);
        }

        /* Pages */
        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: pageEnter 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes pageEnter {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Grid */
        .categories-grid,
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(min(100%, 340px), 1fr));
            gap: 28px;
        }

        @media (min-width: 768px) {
            .categories-grid,
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            }
        }

        /* Category Card */
        .category-card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 24px;
            padding: 36px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: cardPop 0.6s cubic-bezier(0.16, 1, 0.3, 1) backwards;
        }

        @keyframes cardPop {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .category-card:nth-child(1) { animation-delay: 0.1s; }
        .category-card:nth-child(2) { animation-delay: 0.2s; }
        .category-card:nth-child(3) { animation-delay: 0.3s; }
        .category-card:nth-child(4) { animation-delay: 0.4s; }
        .category-card:nth-child(5) { animation-delay: 0.5s; }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(59, 130, 246, 0.1));
            opacity: 0;
            transition: opacity 0.4s;
        }

        .category-card:hover::before {
            opacity: 1;
        }

        .category-card:hover {
            border-color: var(--accent-gold);
            transform: translateY(-8px) scale(1.02);
            box-shadow: var(--shadow), var(--glow);
        }

        .category-icon {
            font-size: 64px;
            margin-bottom: 20px;
            display: inline-block;
            filter: drop-shadow(0 4px 12px rgba(251, 191, 36, 0.3));
            animation: iconFloat 3s ease-in-out infinite;
        }

        @keyframes iconFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-12px); }
        }

        .category-title {
            font-size: 1.8rem;
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--text-primary);
            position: relative;
            z-index: 1;
        }

        .category-count {
            color: var(--text-secondary);
            font-size: 15px;
            margin-bottom: 16px;
            position: relative;
            z-index: 1;
        }

        .category-arrow {
            display: inline-block;
            padding: 8px 18px;
            background: rgba(251, 191, 36, 0.1);
            color: var(--accent-gold);
            border-radius: 8px;
            font-size: 14px;
            font-weight: 700;
            position: relative;
            z-index: 1;
        }

        /* Product Card */
        .product-card {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 24px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            animation: cardPop 0.6s cubic-bezier(0.16, 1, 0.3, 1) backwards;
        }

        .product-card:hover {
            border-color: var(--accent-gold);
            transform: translateY(-6px);
            box-shadow: var(--shadow), var(--glow);
        }

        .product-header {
            padding: 32px 28px;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.08), rgba(59, 130, 246, 0.08));
            border-bottom: 1px solid var(--border);
        }

        .product-name {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-primary);
        }

        .variants-list {
            padding: 24px;
        }

        .variant-item {
            padding: 20px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border);
            border-radius: 16px;
            margin-bottom: 16px;
            transition: all 0.3s;
        }

        .variant-item:hover {
            background: rgba(251, 191, 36, 0.05);
            border-color: var(--accent-gold);
        }

        .variant-item:last-child {
            margin-bottom: 0;
        }

        .variant-name {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
            display: block;
        }

        .price-section {
            margin-bottom: 16px;
        }

        .original-price {
            font-size: 15px;
            color: var(--text-muted);
            text-decoration: line-through;
            margin-bottom: 6px;
        }

        .current-price {
            font-size: 28px;
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-gold), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            direction: ltr;
            text-align: right;
            letter-spacing: -0.02em;
        }

        .price-currency {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-secondary);
            margin-right: 8px;
        }

        .discount-section {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            flex-wrap: wrap;
        }

        .discount-label {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 600;
        }

        .discount-input {
            width: 80px;
            padding: 10px 16px;
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 15px;
            font-weight: 700;
            font-family: inherit;
            transition: all 0.3s;
        }

        .discount-input:focus {
            outline: none;
            border-color: var(--accent-gold);
            box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.1);
        }

        .discount-badge {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
            padding: 6px 16px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 800;
            animation: badgePop 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes badgePop {
            0% { transform: scale(0); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .savings-amount {
            font-size: 14px;
            color: #10b981;
            font-weight: 700;
            padding: 8px 16px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 8px;
            display: inline-block;
            animation: slideIn 0.4s ease;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 20px;
            margin-top: 60px;
            border-top: 1px solid var(--border);
            color: var(--text-muted);
            font-size: 14px;
        }

        /* Install Prompt */
        
        
        /* Responsive */
        @media (max-width: 768px) {
            .container { padding: 12px; }
            header { padding: 40px 16px 30px; }
            .logo { width: 70px; height: 70px; font-size: 38px; }
            h1 { font-size: 2.2rem; }
            .nav-btn { padding: 14px 24px; font-size: 15px; }
            .category-card, .product-header { padding: 24px; }
            .category-icon { font-size: 52px; }
            .current-price { font-size: 22px; }
                                }
    

        /* Product accordion (Ø¬Ù…Ø¹â€ŒÙˆØ¬ÙˆØ± Ø´Ø¯Ù† Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª) */
        .product-accordion {
            overflow: hidden;
        }
        .product-summary {
            cursor: pointer;
            list-style: none;
            user-select: none;
        }
        .product-summary::-webkit-details-marker {
            display: none;
        }
        .product-summary-left {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        .product-meta {
            font-size: 0.85rem;
            color: var(--text-muted);
        }
        .summary-chevron {
            transition: transform 0.2s ease;
            color: var(--text-muted);
            font-size: 1.2rem;
            margin-right: 10px;
        }
        details.product-accordion[open] .summary-chevron {
            transform: rotate(180deg);
        }
        details.product-accordion .variants-list {
            margin-top: 10px;
        }

</style>
</head>
<body>
    <div class="bg-animated"></div>
    <div class="particles" id="particles"></div>

    <div class="container">
        <header>
            <div class="brand-container">
                <div class="logo">Ú©</div>
                <div>
                    <h1>Ú©ÛŒØ§ Ú©ÙˆØªÛŒÙ†Ú¯</h1>
                    <p class="subtitle">Ù„ÛŒØ³Øª Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„Ø§Øª Ú¯Ø§ØªØ±ÛŒØ§</p>
                </div>
                <div class="header-badges">
                    <div class="badge">â° Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: <span id="currentDate"></span></div>
                    <div class="badge">ğŸ’ Ú©ÛŒÙÛŒØª Ø¨Ø±ØªØ±</div>
                    <div class="badge">ğŸ”’ Ù‚ÛŒÙ…Øª ØªØ¶Ù…ÛŒÙ†ÛŒ</div>
                </div>
            </div>
        </header>

        <div class="search-container">
            <input type="text" class="search-input" id="searchInput" placeholder="ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ù…Ø­ØµÙˆÙ„...">
        </div>

        <div class="breadcrumb" id="breadcrumb">
            <span>ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ</span>
        </div>

        <nav>
            <button class="nav-btn active" data-page="home">ğŸ  ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ</button>
            <button class="nav-btn" data-page="farangi">ğŸš½ ÙØ±Ù†Ú¯ÛŒ</button>
            <button class="nav-btn" data-page="valhang">ğŸš¿ ÙˆØ§Ù„Ù‡Ù†Ú¯</button>
            <button class="nav-btn" data-page="kasez">âšª Ú©Ø§Ø³Ù‡ Ø²Ù…ÛŒÙ†ÛŒ</button>
            <button class="nav-btn" data-page="nimpaye">ğŸ”§ Ù†ÛŒÙ… Ù¾Ø§ÛŒÙ‡</button>
            <button class="nav-btn" data-page="roshooyi">ğŸª Ø±ÙˆØ´ÙˆÛŒÛŒ</button>
        </nav>

        <div id="homePage" class="page active">
            <div class="categories-grid">
                <div class="category-card" onclick="navigateTo('farangi')">
                    <div class="category-icon">ğŸš½</div>
                    <h2 class="category-title">ÙØ±Ù†Ú¯ÛŒ</h2>
                    <p class="category-count">Ú¯Ø§ØªØ±ÛŒØ§ Ø³Ø§ØªØ±ÙˆÙ† Ú˜ÙˆÙ¾ÛŒØªØ±</p>
                    <div class="category-arrow">â† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
                </div>
                <div class="category-card" onclick="navigateTo('valhang')">
                    <div class="category-icon">ğŸš¿</div>
                    <h2 class="category-title">ÙˆØ§Ù„Ù‡Ù†Ú¯</h2>
                    <p class="category-count">Ù…Ø­ØµÙˆÙ„Ø§Øª Ú¯Ø§ØªØ±ÛŒØ§</p>
                    <div class="category-arrow">â† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
                </div>
                <div class="category-card" onclick="navigateTo('kasez')">
                    <div class="category-icon">âšª</div>
                    <h2 class="category-title">Ú©Ø§Ø³Ù‡ Ø²Ù…ÛŒÙ†ÛŒ</h2>
                    <p class="category-count">Ú©ÛŒÙÛŒØª Ø¹Ø§Ù„ÛŒ</p>
                    <div class="category-arrow">â† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
                </div>
                <div class="category-card" onclick="navigateTo('nimpaye')">
                    <div class="category-icon">ğŸ”§</div>
                    <h2 class="category-title">Ù†ÛŒÙ… Ù¾Ø§ÛŒÙ‡</h2>
                    <p class="category-count">DKM 50</p>
                    <div class="category-arrow">â† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
                </div>
                <div class="category-card" onclick="navigateTo('roshooyi')">
                    <div class="category-icon">ğŸª</div>
                    <h2 class="category-title">Ø±ÙˆØ´ÙˆÛŒÛŒ</h2>
                    <p class="category-count">Û³ Ø¯Ø³ØªÙ‡ Ù…Ø­ØµÙˆÙ„</p>
                    <div class="category-arrow">â† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
                </div>
            </div>
        </div>

        <div id="farangiPage" class="page">
            <div class="products-grid" id="farangiProducts"></div>
        </div>

        <div id="valhangPage" class="page">
            <div class="products-grid" id="valhangProducts"></div>
        </div>

        <div id="kasezPage" class="page">
            <div class="products-grid" id="kasezProducts"></div>
        </div>

        <div id="nimpayePage" class="page">
            <div class="products-grid" id="nimpayeProducts"></div>
        </div>

        <div id="roshooyiPage" class="page">
            <div class="categories-grid">
                <div class="category-card" onclick="navigateTo('roshooyi-shiradar')">
                    <div class="category-icon">ğŸš°</div>
                    <h2 class="category-title">Ø±ÙˆØ´ÙˆÛŒÛŒ Ø´ÛŒØ±Ø¯Ø§Ø±</h2>
                    <p class="category-count">Ûµ Ù…Ø¯Ù„</p>
                    <div class="category-arrow">â† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
                </div>
                <div class="category-card" onclick="navigateTo('roshooyi-bedoonshir')">
                    <div class="category-icon">ğŸª</div>
                    <h2 class="category-title">Ø±ÙˆØ´ÙˆÛŒÛŒ Ø¨Ø¯ÙˆÙ† Ø´ÛŒØ±</h2>
                    <p class="category-count">Ûµ Ù…Ø¯Ù„</p>
                    <div class="category-arrow">â† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
                </div>
                <div class="category-card" onclick="navigateTo('roshooyi-mgrg')">
                    <div class="category-icon">âœ¨</div>
                    <h2 class="category-title">Ø±ÙˆØ´ÙˆÛŒÛŒ MG-RG</h2>
                    <p class="category-count">Û´ Ù…Ø¯Ù„</p>
                    <div class="category-arrow">â† Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</div>
                </div>
            </div>
        </div>

        <div id="roshooyi-shiradarPage" class="page">
            <div class="products-grid" id="roshooyiShiradarProducts"></div>
        </div>

        <div id="roshooyi-bedoonshirPage" class="page">
            <div class="products-grid" id="roshooyiBedoonshirProducts"></div>
        </div>

        <div id="roshooyi-mgrgPage" class="page">
            <div class="products-grid" id="roshooyiMgrgProducts"></div>
        </div>

        <footer>
            <p>Ù„ÛŒØ³Øª Ù‚ÛŒÙ…Øª Ù…Ø­ØµÙˆÙ„Ø§Øª Ú©ÛŒØ§ Ú©ÙˆØªÛŒÙ†Ú¯ Â© 2026</p>
            <p style="margin-top: 8px;">Ù‚ÛŒÙ…Øªâ€ŒÙ‡Ø§ Ø¨Ù‡ ØªÙˆÙ…Ø§Ù† Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯</p>
        </footer>
    </div>
    <script>
        const particlesContainer = document.getElementById('particles');
        for (let i = 0; i < 20; i++) {
            const particle = document.createElement('div');
            particle.className = 'particle';
            particle.style.left = Math.random() * 100 + '%';
            particle.style.animationDelay = Math.random() * 15 + 's';
            particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
            particlesContainer.appendChild(particle);
        }

        const productsData = {
            farangi: [{name:"Ú¯Ø§ØªØ±ÛŒØ§ Ø³Ø§ØªØ±ÙˆÙ† Ú˜ÙˆÙ¾ÛŒØªØ±",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:12500000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:16600000},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:13000000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:12500000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:14500000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:18500000}]}],
            valhang: [{name:"Ú¯Ø§ØªØ±ÛŒØ§",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:12000000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:16200000},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:13500000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:12000000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:15000000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:17000000}]}],
            kasez: [{name:"Ú¯Ø§ØªØ±ÛŒØ§",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2150000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:3180000},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2250000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:2150000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:2950000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:3900000}]}],
            nimpaye: [{name:"DKM 50",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:3625000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:5250000},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:3900000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:3625000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:4700000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:5900000}]}],
            roshooyiMgrg: [{name:"MG 50",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2430000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:3630000},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2530000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:2430000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:3100000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:4100000}]},{name:"MG 60",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:3400000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:5200000},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:3500000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:3400000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:4200000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:6300000}]},{name:"MG 70",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:3570000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:5590000},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:3670000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:3570000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:4500000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:6500000}]},{name:"RG",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2450000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:3847500},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2590000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:2450000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:3510000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:5466500}]}],
            roshooyiShiradar: [{name:"Ø¨ÛŒØ¶ÛŒ",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1375000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1887500},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1435000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:1375000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:1925000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:2642500}]},{name:"Ù…Ø³ØªØ·ÛŒÙ„",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1375000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1887500},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1435000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:1375000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:1925000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:2642500}]},{name:"Ù…Ø±Ø¨Ø¹",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1375000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1887500},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1435000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:1375000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:1925000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:2642500}]},{name:"Ø¯Ø§ÛŒØ±Ù‡",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1375000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1887500},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1435000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:1375000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:1925000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:2642500}]},{name:"Ø¯Ø§ÛŒØ±Ù‡ ÙˆÙ†ÙˆØ³",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1475000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1987500},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1535000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:1475000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:2025000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:2742500}]}],
            roshooyiBedoonshir: [{name:"Ø¨ÛŒØ¶ÛŒ GSF",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1625000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2187500},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2250000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:1625000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:2375000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:3062500}]},{name:"Ù…Ø³ØªØ·ÛŒÙ„ GSF",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2240000},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2790000},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2340000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:2240000},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:3200000},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:4400000}]},{name:"Ø¯Ø§ÛŒØ±Ù‡ GSF 36",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1513500},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2125000},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1562500},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:1513500},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:2117500},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:2975000}]},{name:"Ø¯Ø§ÛŒØ±Ù‡ GSF 40",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1921250},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2812500},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1992500},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:1925250},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:2689750},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:3973500}]},{name:"Ù…Ø±Ø¨Ø¹ Ø¨Ø¯ÙˆÙ† Ø´ÛŒØ±",variants:[{name:"Ø³ÙÛŒØ¯ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:1912500},{name:"Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2812500},{name:"ØªÙ…Ø§Ù… Ø·Ù„Ø§ - Ù†Ù‚Ø±Ù‡",price:2000000},{name:"Ù„Ø¹Ø§Ø¨ Ø±Ù†Ú¯ÛŒ",price:1912500},{name:"Ù…Ø§Øª Ø³ÙÛŒØ¯ Ø·Ù„Ø§",price:2667500},{name:"Ù…Ø§Øª Ù…Ø´Ú©ÛŒ Ø·Ù„Ø§",price:3937500}]}]
        };

        function formatCurrency(value) {
            return Math.round(value).toLocaleString('fa-IR');
        }

        const now = new Date();
        document.getElementById('currentDate').textContent = now.toLocaleDateString('fa-IR', {year:'numeric',month:'long',day:'numeric'});

        let currentPage = 'home';
        const breadcrumb = document.getElementById('breadcrumb');

        function navigateTo(page) {
            currentPage = page;
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.page === page);
            });
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });
            document.getElementById(page + 'Page').classList.add('active');
            updateBreadcrumb(page);
            document.getElementById('searchInput').value = '';
            window.scrollTo({top:0,behavior:'smooth'});
        }

        function updateBreadcrumb(page) {
            let html = '<span onclick="navigateTo(\'home\')">ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ</span>';
            const pageNames = {
                'farangi':'ÙØ±Ù†Ú¯ÛŒ','valhang':'ÙˆØ§Ù„Ù‡Ù†Ú¯','kasez':'Ú©Ø§Ø³Ù‡ Ø²Ù…ÛŒÙ†ÛŒ','nimpaye':'Ù†ÛŒÙ… Ù¾Ø§ÛŒÙ‡','roshooyi':'Ø±ÙˆØ´ÙˆÛŒÛŒ',
                'roshooyi-shiradar':'Ø±ÙˆØ´ÙˆÛŒÛŒ Ø´ÛŒØ±Ø¯Ø§Ø±','roshooyi-bedoonshir':'Ø±ÙˆØ´ÙˆÛŒÛŒ Ø¨Ø¯ÙˆÙ† Ø´ÛŒØ±','roshooyi-mgrg':'Ø±ÙˆØ´ÙˆÛŒÛŒ MG-RG'
            };
            if (page !== 'home') {
                if (page.startsWith('roshooyi-')) {
                    html += ' <span class="separator">â†</span> <span onclick="navigateTo(\'roshooyi\')">Ø±ÙˆØ´ÙˆÛŒÛŒ</span>';
                    html += ` <span class="separator">â†</span> <span class="current">${pageNames[page]}</span>`;
                } else if (pageNames[page]) {
                    html += ` <span class="separator">â†</span> <span class="current">${pageNames[page]}</span>`;
                }
            }
            breadcrumb.innerHTML = html;
        }

        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                navigateTo(btn.dataset.page);
            });
        });

        function renderProducts(containerId, products) {
            const container = document.getElementById(containerId);

            container.innerHTML = products.map((product, pIdx) => {
                const prices = (product.variants || []).map(v => Number(v.price) || 0).filter(v => v > 0);
                const minPrice = prices.length ? Math.min(...prices) : 0;

                return `
                <details class="product-card product-accordion">
                    <summary class="product-header product-summary">
                        <div class="product-summary-left">
                            <h3 class="product-name">${product.name}</h3>
                            ${minPrice ? `<div class="product-meta">Ø§Ø² ${formatCurrency(minPrice)} <span class="price-currency">ØªÙˆÙ…Ø§Ù†</span></div>` : ``}
                        </div>
                        <span class="summary-chevron" aria-hidden="true">âŒ„</span>
                    </summary>

                    <div class="variants-list">
                        ${(product.variants || []).map((variant, vIdx) => `
                            <div class="variant-item">
                                <span class="variant-name">${variant.name}</span>
                                <div class="price-section">
                                    <div class="original-price" id="original-${containerId}-${pIdx}-${vIdx}" style="display:none;">
                                        ${formatCurrency(variant.price)} <span class="price-currency">ØªÙˆÙ…Ø§Ù†</span>
                                    </div>
                                    <div class="current-price" id="price-${containerId}-${pIdx}-${vIdx}">
                                        ${formatCurrency(variant.price)} <span class="price-currency">ØªÙˆÙ…Ø§Ù†</span>
                                    </div>
                                </div>
                                <div class="discount-section">
                                    <span class="discount-label">ØªØ®ÙÛŒÙ:</span>
                                    <input type="number" class="discount-input" placeholder="%" min="0" max="100"
                                        data-original="${Math.round(Number(variant.price) || 0)}"
                                        data-container="${containerId}"
                                        data-pindex="${pIdx}"
                                        data-vindex="${vIdx}"
                                        oninput="applyDiscount(this)">
                                    <span class="discount-badge" id="badge-${containerId}-${pIdx}-${vIdx}" style="display:none;">0%</span>
                                </div>
                                <div class="savings-amount" id="savings-${containerId}-${pIdx}-${vIdx}" style="display:none;"></div>
                            </div>
                        `).join('')}
                    </div>
                </details>
                `;
            }).join('');

            // Ø¨Ø³ØªÙ† Ø³Ø§ÛŒØ± Ø¢ÛŒØªÙ…â€ŒÙ‡Ø§ ÙˆÙ‚ØªÛŒ ÛŒÚ©ÛŒ Ø¨Ø§Ø² Ø´Ø¯ (Ø¨Ø±Ø§ÛŒ Ø¬Ù…Ø¹â€ŒÙˆØ¬ÙˆØ± Ù…Ø§Ù†Ø¯Ù† ØµÙØ­Ù‡)
            container.querySelectorAll('details.product-accordion').forEach((d) => {
                d.addEventListener('toggle', () => {
                    if (!d.open) return;
                    container.querySelectorAll('details.product-accordion').forEach((other) => {
                        if (other !== d) other.open = false;
                    });
                });
            });
        }

        function applyDiscount(input) {
            const originalPrice = Number(input.dataset.original);
            const container = input.dataset.container;
            const pIdx = input.dataset.pindex;
            const vIdx = input.dataset.vindex;

            let discount = Number(input.value);
            if (!Number.isFinite(discount)) discount = 0;
            discount = Math.max(0, Math.min(100, discount)); // clamp

            const originalPriceEl = document.getElementById(`original-${container}-${pIdx}-${vIdx}`);
            const currentPriceEl = document.getElementById(`price-${container}-${pIdx}-${vIdx}`);
            const badgeEl = document.getElementById(`badge-${container}-${pIdx}-${vIdx}`);
            const savingsEl = document.getElementById(`savings-${container}-${pIdx}-${vIdx}`);

            if (!originalPriceEl || !currentPriceEl || !badgeEl || !savingsEl) return;

            if (discount > 0) {
                const discountedPrice = Math.round(originalPrice * (1 - discount / 100));
                const savings = Math.round(originalPrice - discountedPrice);

                originalPriceEl.style.display = 'block';
                currentPriceEl.innerHTML = `${formatCurrency(discountedPrice)} <span class="price-currency">ØªÙˆÙ…Ø§Ù†</span>`;

                badgeEl.textContent = `${discount}%`;
                badgeEl.style.display = 'inline-flex';

                savingsEl.textContent = `ØµØ±ÙÙ‡â€ŒØ¬ÙˆÛŒÛŒ: ${formatCurrency(savings)} ØªÙˆÙ…Ø§Ù†`;
                savingsEl.style.display = 'block';
            } else {
                originalPriceEl.style.display = 'none';
                currentPriceEl.innerHTML = `${formatCurrency(originalPrice)} <span class="price-currency">ØªÙˆÙ…Ø§Ù†</span>`;
                badgeEl.style.display = 'none';
                savingsEl.style.display = 'none';
            }
        }

        function renderAll() {
            renderProducts('farangiProducts', productsData.farangi);
            renderProducts('valhangProducts', productsData.valhang);
            renderProducts('kasezProducts', productsData.kasez);
            renderProducts('nimpayeProducts', productsData.nimpaye);
            renderProducts('roshooyiMgrgProducts', productsData.roshooyiMgrg);
            renderProducts('roshooyiShiradarProducts', productsData.roshooyiShiradar);
            renderProducts('roshooyiBedoonshirProducts', productsData.roshooyiBedoonshir);
        }
        renderAll();

        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const term = e.target.value.toLowerCase().trim();
            const activePage = document.querySelector('.page.active');
            const cards = activePage.querySelectorAll('.product-card, .category-card');
            cards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(term) ? '' : 'none';
            });
        });
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js');
            });
        }
    </script>
</body>
</html>